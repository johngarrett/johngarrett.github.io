<!DOCTYPE html>
<html>
<head>
    <!-- I know, I hate google anayltics. i'm looking for free alternatives - you can disable this if you'd like -->
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-YZD103LZ87');
    </script>
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-YZD103LZ87"></script>

    <meta charset="utf-8">
    <title>Unified Bar Test</title>
    <meta name="theme-color" content="#FFF">
    <style>
    body {
        height: 100%;
        width: 100%;
        place-items: center;
        display: grid;
    }
    </style>
</head>
  
<body>
    <h1 id="header">Sorry</h1>
<script>
let delay = 0;
 
function changeColor() {
    const color = getRandomColor();
    delay++;
     
    if (delay > 7) {
        document.querySelector('meta[name="theme-color"]').setAttribute('content',  color);
        document.getElementById('header').style.color = color;
        delay = 0;
    }
 
    window.webkitRequestAnimationFrame(changeColor);
}

changeColor();           
 
function getRandomColor() {
    // creating a random number between 0 and 255
    const r = Math.floor(Math.random()*256);
    const g = Math.floor(Math.random()*256);
    const b = Math.floor(Math.random()*256);
     
    // going from decimal to hex
    let hexR = r.toString(16);
    let hexG = g.toString(16);
    let hexB = b.toString(16);
     
    // making sure single character values are prepended with a "0"
    if (hexR.length == 1) {
        hexR = "0" + hexR;
    }
     
    if (hexG.length == 1) {
        hexG = "0" + hexG;
    }
 
    if (hexB.length == 1) {
        hexB = "0" + hexB;
    }
 
    // creating the hex value by concatenatening the string values
    const hexColor = "#" + hexR + hexG + hexB;
    return hexColor.toUpperCase();
}
</script>
</body>
</html>
